//import db from '../lib/database.js'
import { canLevelUp } from '../lib/levelling.js'

export async function before(m, { conn }) {
    let user = global.db.data.users[m.sender]
    if (!user.autolevelup)
        return !0
    let before = user.level * 1
    while (canLevelUp(user.level, user.exp, global.multiplier))
        user.level++
    user.role = global.rpg.role(user.level).name
    if (before !== user.level) {
        m.reply(`
*рдпрд╛рджреЗрдВ рдЖрдП рдФрд░ рдЖрдХреЗ рдпреЗ рд░реБрд▓рд╛рдП*
*рдкрд░ рддреБрдо, рдпрд╛рд░рд╛, рдХреНрдпреВрдБ рдирдЬрд╝рд░ рдирд╛ рдЖрдП?*

*рдпрд╛рджреЗрдВ рдЖрдП рдФрд░ рдЖрдХреЗ рдпреЗ рд░реБрд▓рд╛рдП*
*рдкрд░ рддреБрдо, рдпрд╛рд░рд╛, рдХреНрдпреВрдБ рдирдЬрд╝рд░ рдирд╛ рдЖрдП?*

*рдпреЗ рджрд┐рд▓ рд░реЛрддреЗ-рд░реЛрддреЗ рддреЗрд░реА рд╣реА рдмрд╛рддреЗрдВ рдХрд░рддрд╛ рд╣реИ*
*рдкрд░ рддреВ рд╣реИ рдХрд┐, рдпрд╛рд░рд╛, рдореЗрд░реА рд╕реБрдирддрд╛ рднреА рдирд╣реАрдВ*
*рдпреЗ рджрд┐рд▓ рддреЗрд░реА рдпрд╛рджреЛрдВ рдореЗрдВ рдЦреЛрдпрд╛-рдЦреЛрдпрд╛ рд░рд╣рддрд╛ рд╣реИ*
*рдкрд░ рддреВ рдореЗрд░реЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпреВрдБ рд╕реЛрдЪрддрд╛ рдирд╣реАрдВ?*

*рдлрд╝рд┐рд░ рднреА рдЖрд╕ рд▓рдЧреА рд╣реИ...*
*рдлрд╝рд┐рд░ рднреА рдЖрд╕ рд▓рдЧреА рд╣реИ...*
*рдлрд╝рд┐рд░ рднреА рдЖрд╕ рд▓рдЧреА рд╣реИ рджрд┐рд▓ рдореЗрдВ*
*рддреБрдо рдЖрдУрдЧреА рдореБрдЭрд╕реЗ рдорд┐рд▓рдиреЗ*
*рдЪреБрдкрдХреЗ-рдЪреБрдкрдХреЗ рдХрд╣ рджреЗ рджрд┐рд▓ рдореЗрдВ*
*"рджреАрд╡рд╛рдирд╛"*

*рд╣рд╛рдП, рдХрд╣рд╛рдБ рдЧрдИрдВ рд╡реЛ рд░рд╛рддреЗрдВ, рд╡реЛ рдореАрдареА-рдореАрдареА рд╕реА рдмрд╛рддреЗрдВ*
*рдХрд░рддреА рдереАрдВ рдЬреЛ рджреАрд╡рд╛рдирд╛?*
*рджреАрд╡рд╛рдирд╛, рддреЗрд░рд╛ рджреАрд╡рд╛рдирд╛*

*рд╣рд╛рдп, рдРрд╕реЗ рдХреИрд╕реЗ рдХреЛрдИ рддреЛрдбрд╝рддрд╛ рд╣реИ рджрд┐рд▓ рдХреЛ?*
*рдЫреЛрдбрд╝ рдХреЗ рд╣реЛ рдЬрд╛рдирд╛ рддреЛ рдорд┐рд▓рддрд╛ рд╣реА рд╣реИ рдлрд╝рд┐рд░ рдХреНрдпреВрдБ?*

*рдЬрд╛рдиреЗ рдХреИрд╕реЗ рдХреЛрдИ рддреЛрдбрд╝рддрд╛ рд╣реИ рджрд┐рд▓ рдХреЛ*
*рдЫреЛрдбрд╝ рдХреЗ рдЬрд╛рдирд╛ рд╣реЛ рддреЛ рдорд┐рд▓рддрд╛ рд╣реА рд╣реИ рдлрд╝рд┐рд░ рдХреНрдпреВрдБ?*
*рддреВ рдЦрд╝реБрд╢ рд╣реЛ рдЬрд╝рдорд╛рдиреЗ рдореЗрдВ, рдпрд╣реА рджреБрдЖ рдХрд░рддрд╛ рд╣реВрдБ*
*рд╣рд╛рдБрдВ, рджрд┐рд▓ рдореЗрдВ рд╣рдореЗрд╢рд╛ рдореЗрд░реЗ рд░рд╣реЗрдЧрд╛ рддреВ рд╣реА*
*рдпреЗ рджрд┐рд▓ рддреЗрд░реА рдпрд╛рджреЛрдВ рдореЗрдВ рдЦреЛрдпрд╛-рдЦреЛрдпрд╛ рд░рд╣рддрд╛ рд╣реИ*

*рдкрд░ рддреВ рдореЗрд░реЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпреВрдБ рд╕реЛрдЪрддрд╛ рдирд╣реАрдВ?*
*рдлрд╝рд┐рд░ рднреА рдЖрд╕ рд▓рдЧреА рд╣реИ...*
*рдлрд╝рд┐рд░ рднреА рдЖрд╕ рд▓рдЧреА рд╣реИ...*
*рдлрд╝рд┐рд░ рднреА рдЖрд╕ рд▓рдЧреА рд╣реИ рджрд┐рд▓ рдореЗрдВ*

*рддреБрдо рдЖрдУрдЧреА рдореБрдЭрд╕реЗ рдорд┐рд▓рдиреЗ*
*рдЪреБрдкрдХреЗ-рдЪреБрдкрдХреЗ рдХрд╣ рджреЗ рджрд┐рд▓ рдореЗрдВ*
*"рджреАрд╡рд╛рдирд╛"*

*рдлрд╝рд┐рд░ рднреА рдЖрд╕ рд▓рдЧреА рд╣реИ рджрд┐рд▓ рдореЗрдВ*
*рддреБрдо рдЖрдУрдЧреА рдореБрдЭрд╕реЗ рдорд┐рд▓рдиреЗ*
*рдЪреБрдкрдХреЗ-рдЪреБрдкрдХреЗ рдХрд╣ рджреЗ рджрд┐рд▓ рдореЗрдВ*

*"рджреАрд╡рд╛рдирд╛"*
*рддреЗрд░рд╛ рджреАрд╡рд╛рдирд╛*
*рджреАрд╡рд╛рдирд╛, рддреЗрд░рд╛ рджреАрд╡рд╛рдирд╛*
\n> ARJU тЩея╕ПЁЯШТ`.trim())
    }
}

